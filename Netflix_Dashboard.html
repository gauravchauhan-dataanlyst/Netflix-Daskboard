<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Netflix Content Analytics Dashboard</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300&display=swap');

  :root {
    --bg:        #0a0a0f;
    --surface:   #13131c;
    --card:      #1a1a28;
    --border:    #252538;
    --red:       #e50914;
    --red-dim:   #9b0a10;
    --red-glow:  rgba(229,9,20,0.18);
    --gold:      #f5c518;
    --teal:      #00d4c8;
    --purple:    #7c3aed;
    --text:      #f0f0f8;
    --muted:     #6b6b90;
    --light:     #a0a0c0;
    --radius:    14px;
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* â”€â”€â”€ BACKGROUND TEXTURE â”€â”€â”€ */
  body::before {
    content: '';
    position: fixed; inset: 0; z-index: 0;
    background:
      radial-gradient(ellipse 80% 50% at 10% 0%, rgba(229,9,20,0.07) 0%, transparent 60%),
      radial-gradient(ellipse 60% 40% at 90% 100%, rgba(124,58,237,0.06) 0%, transparent 60%);
    pointer-events: none;
  }

  /* â”€â”€â”€ LAYOUT â”€â”€â”€ */
  .shell { position: relative; z-index: 1; display: flex; min-height: 100vh; }

  /* â”€â”€â”€ SIDEBAR â”€â”€â”€ */
  .sidebar {
    width: 64px;
    background: var(--surface);
    border-right: 1px solid var(--border);
    display: flex; flex-direction: column; align-items: center;
    padding: 20px 0; gap: 8px;
    position: sticky; top: 0; height: 100vh;
    flex-shrink: 0;
  }
  .sidebar-logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 22px;
    color: var(--red);
    letter-spacing: 1px;
    writing-mode: vertical-rl;
    text-orientation: mixed;
    transform: rotate(180deg);
    margin-bottom: 24px;
    text-shadow: 0 0 20px var(--red);
  }
  .sidebar-icon {
    width: 40px; height: 40px;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    color: var(--muted); font-size: 18px;
    cursor: pointer; transition: all .2s;
    border: 1px solid transparent;
  }
  .sidebar-icon:hover, .sidebar-icon.active {
    background: var(--red-glow);
    border-color: var(--red-dim);
    color: var(--red);
  }

  /* â”€â”€â”€ MAIN CONTENT â”€â”€â”€ */
  .main { flex: 1; padding: 28px 32px; overflow-y: auto; }

  /* â”€â”€â”€ HEADER â”€â”€â”€ */
  .header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 28px;
  }
  .header-left h1 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 38px; letter-spacing: 2px;
    background: linear-gradient(135deg, #fff 30%, #e50914 100%);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1;
  }
  .header-left p {
    color: var(--muted); font-size: 13px; margin-top: 4px; font-weight: 300;
  }
  .header-right {
    display: flex; gap: 10px; align-items: center;
  }
  .badge {
    background: var(--red-glow);
    border: 1px solid var(--red-dim);
    color: var(--red);
    font-size: 11px; font-weight: 600;
    padding: 4px 12px; border-radius: 20px;
    letter-spacing: .5px;
  }
  .badge.teal {
    background: rgba(0,212,200,.1);
    border-color: rgba(0,212,200,.3);
    color: var(--teal);
  }

  /* â”€â”€â”€ KPI STRIP â”€â”€â”€ */
  .kpi-strip {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 14px;
    margin-bottom: 24px;
  }
  .kpi {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 18px 20px;
    position: relative; overflow: hidden;
    transition: transform .2s, box-shadow .2s;
  }
  .kpi:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 40px rgba(0,0,0,.4);
  }
  .kpi::before {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; height: 2px;
    background: var(--accent, var(--red));
  }
  .kpi-icon {
    width: 36px; height: 36px; border-radius: 8px;
    background: var(--icon-bg, var(--red-glow));
    display: flex; align-items: center; justify-content: center;
    font-size: 17px; margin-bottom: 12px;
  }
  .kpi-value {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 34px; line-height: 1;
    color: var(--text);
  }
  .kpi-label {
    font-size: 11px; color: var(--muted);
    font-weight: 500; margin-top: 4px; letter-spacing: .4px;
    text-transform: uppercase;
  }
  .kpi-delta {
    position: absolute; top: 18px; right: 16px;
    font-size: 11px; font-weight: 600;
    padding: 3px 8px; border-radius: 20px;
  }
  .delta-up { background: rgba(34,197,94,.12); color: #22c55e; }
  .delta-neutral { background: rgba(245,197,24,.12); color: var(--gold); }

  /* â”€â”€â”€ GRID LAYOUTS â”€â”€â”€ */
  .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; margin-bottom: 18px; }
  .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 18px; margin-bottom: 18px; }
  .grid-3-1 { display: grid; grid-template-columns: 2fr 1fr; gap: 18px; margin-bottom: 18px; }
  .grid-1-2 { display: grid; grid-template-columns: 1fr 2fr; gap: 18px; margin-bottom: 18px; }

  /* â”€â”€â”€ CHART CARD â”€â”€â”€ */
  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 22px 24px;
    transition: box-shadow .2s;
  }
  .card:hover { box-shadow: 0 8px 32px rgba(0,0,0,.35); }
  .card-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 18px;
  }
  .card-title {
    font-size: 13px; font-weight: 600;
    text-transform: uppercase; letter-spacing: .8px;
    color: var(--light);
  }
  .card-tag {
    font-size: 10px; color: var(--muted);
    background: rgba(255,255,255,.05);
    padding: 3px 9px; border-radius: 20px;
    letter-spacing: .3px;
  }
  .chart-wrap { position: relative; }

  /* â”€â”€â”€ COUNTRY TABLE â”€â”€â”€ */
  .country-list { display: flex; flex-direction: column; gap: 10px; }
  .country-row { display: flex; align-items: center; gap: 10px; }
  .country-name { font-size: 13px; width: 110px; flex-shrink: 0; }
  .country-bar-wrap { flex: 1; height: 6px; background: var(--border); border-radius: 10px; overflow: hidden; }
  .country-bar { height: 100%; border-radius: 10px; background: linear-gradient(90deg, var(--red), #ff6b6b); transition: width 1s ease; }
  .country-val { font-size: 12px; color: var(--muted); width: 30px; text-align: right; flex-shrink: 0; }

  /* â”€â”€â”€ DONUT LABELS â”€â”€â”€ */
  .donut-legend { display: flex; flex-direction: column; gap: 8px; margin-top: 16px; }
  .legend-item { display: flex; align-items: center; gap: 9px; font-size: 12px; }
  .legend-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
  .legend-pct { color: var(--muted); margin-left: auto; }

  /* â”€â”€â”€ SCROLLBAR â”€â”€â”€ */
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--muted); }

  /* â”€â”€â”€ FOOTER â”€â”€â”€ */
  .footer {
    margin-top: 28px;
    padding: 16px 0;
    border-top: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
  }
  .footer-text { font-size: 11px; color: var(--muted); }
  .footer-text span { color: var(--red); }

  /* â”€â”€â”€ ANIMATIONS â”€â”€â”€ */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .kpi { animation: fadeUp .5s ease both; }
  .kpi:nth-child(1) { animation-delay: .05s; }
  .kpi:nth-child(2) { animation-delay: .10s; }
  .kpi:nth-child(3) { animation-delay: .15s; }
  .kpi:nth-child(4) { animation-delay: .20s; }
  .kpi:nth-child(5) { animation-delay: .25s; }
  .card { animation: fadeUp .5s ease both; animation-delay: .3s; }

  /* â”€â”€â”€ TOOLTIP OVERRIDE â”€â”€â”€ */
  .chart-tooltip {
    background: #1e1e30 !important;
    border: 1px solid var(--border) !important;
    border-radius: 8px !important;
    color: var(--text) !important;
    font-family: 'DM Sans', sans-serif !important;
  }

  /* â”€â”€â”€ PULSE DOT â”€â”€â”€ */
  .live-dot {
    width: 7px; height: 7px; border-radius: 50%;
    background: #22c55e;
    display: inline-block; margin-right: 6px;
    box-shadow: 0 0 0 0 rgba(34,197,94,.4);
    animation: pulse 2s infinite;
  }
  @keyframes pulse {
    0%  { box-shadow: 0 0 0 0 rgba(34,197,94,.4); }
    70% { box-shadow: 0 0 0 8px rgba(34,197,94,0); }
    100%{ box-shadow: 0 0 0 0 rgba(34,197,94,0); }
  }

  /* â”€â”€â”€ RESPONSIVE â”€â”€â”€ */
  @media (max-width: 1100px) {
    .kpi-strip { grid-template-columns: repeat(3, 1fr); }
    .grid-3 { grid-template-columns: 1fr 1fr; }
    .grid-3-1 { grid-template-columns: 1fr; }
    .grid-1-2 { grid-template-columns: 1fr; }
  }
  @media (max-width: 700px) {
    .sidebar { display: none; }
    .kpi-strip { grid-template-columns: 1fr 1fr; }
    .grid-2, .grid-3 { grid-template-columns: 1fr; }
    .main { padding: 20px 16px; }
  }
</style>
</head>
<body>

<div class="shell">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo">NF</div>
    <div class="sidebar-icon active" title="Dashboard">âŠ</div>
    <div class="sidebar-icon" title="Content">ğŸ¬</div>
    <div class="sidebar-icon" title="Geography">ğŸŒ</div>
    <div class="sidebar-icon" title="Ratings">â˜…</div>
    <div class="sidebar-icon" title="Trends">ğŸ“ˆ</div>
    <div style="margin-top:auto;">
      <div class="sidebar-icon" title="Settings">âš™</div>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="main">

    <!-- HEADER -->
    <div class="header">
      <div class="header-left">
        <h1>Netflix Content Analytics</h1>
        <p><span class="live-dot"></span>494 titles Â· Catalog snapshot 2021 Â· Data Science Portfolio Project</p>
      </div>
      <div class="header-right">
        <span class="badge">Movies &amp; TV</span>
        <span class="badge teal">1964 â€“ 2021</span>
      </div>
    </div>

    <!-- KPI STRIP -->
    <div class="kpi-strip">
      <div class="kpi" style="--accent:#e50914; --icon-bg:rgba(229,9,20,.15)">
        <div class="kpi-icon">ğŸ¬</div>
        <div class="kpi-value" id="kpi-total">0</div>
        <div class="kpi-label">Total Titles</div>
        <div class="kpi-delta delta-up">+22% YoY</div>
      </div>
      <div class="kpi" style="--accent:#f5c518; --icon-bg:rgba(245,197,24,.12)">
        <div class="kpi-icon">ğŸ¥</div>
        <div class="kpi-value" id="kpi-movies">0</div>
        <div class="kpi-label">Movies</div>
        <div class="kpi-delta delta-up">96.8%</div>
      </div>
      <div class="kpi" style="--accent:#00d4c8; --icon-bg:rgba(0,212,200,.12)">
        <div class="kpi-icon">ğŸ“º</div>
        <div class="kpi-value" id="kpi-tv">0</div>
        <div class="kpi-label">TV Shows</div>
        <div class="kpi-delta delta-neutral">3.2%</div>
      </div>
      <div class="kpi" style="--accent:#7c3aed; --icon-bg:rgba(124,58,237,.15)">
        <div class="kpi-icon">â±</div>
        <div class="kpi-value" id="kpi-dur">0</div>
        <div class="kpi-label">Avg Duration (min)</div>
        <div class="kpi-delta delta-neutral">Movies</div>
      </div>
      <div class="kpi" style="--accent:#22c55e; --icon-bg:rgba(34,197,94,.12)">
        <div class="kpi-icon">ğŸŒ</div>
        <div class="kpi-value" id="kpi-coprod">0%</div>
        <div class="kpi-label">Co-Productions</div>
        <div class="kpi-delta delta-up">Global</div>
      </div>
    </div>

    <!-- ROW 1: Year Trend (wide) + Donut -->
    <div class="grid-3-1">
      <div class="card">
        <div class="card-header">
          <span class="card-title">Content Added by Year</span>
          <span class="card-tag">2000 â€“ 2021</span>
        </div>
        <div class="chart-wrap" style="height:220px">
          <canvas id="chartYear"></canvas>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <span class="card-title">Content Type</span>
          <span class="card-tag">Split</span>
        </div>
        <div class="chart-wrap" style="height:140px">
          <canvas id="chartType"></canvas>
        </div>
        <div class="donut-legend">
          <div class="legend-item">
            <div class="legend-dot" style="background:#e50914"></div>
            <span>Movies</span>
            <span class="legend-pct">96.8%</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background:#00d4c8"></div>
            <span>TV Shows</span>
            <span class="legend-pct">3.2%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ROW 2: Genre Bar + Country Bars -->
    <div class="grid-2">
      <div class="card">
        <div class="card-header">
          <span class="card-title">Top Genres</span>
          <span class="card-tag">Multi-tag count</span>
        </div>
        <div class="chart-wrap" style="height:280px">
          <canvas id="chartGenre"></canvas>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <span class="card-title">Top Countries</span>
          <span class="card-tag">Primary country</span>
        </div>
        <div class="country-list" id="countryList"></div>
      </div>
    </div>

    <!-- ROW 3: Ratings Donut + Audience Segment + Runtime Histogram -->
    <div class="grid-3">
      <div class="card">
        <div class="card-header">
          <span class="card-title">Ratings Distribution</span>
          <span class="card-tag">All content</span>
        </div>
        <div class="chart-wrap" style="height:200px">
          <canvas id="chartRatings"></canvas>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <span class="card-title">Audience Segments</span>
          <span class="card-tag">By rating group</span>
        </div>
        <div class="chart-wrap" style="height:200px">
          <canvas id="chartAudience"></canvas>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <span class="card-title">Top Movie Genres</span>
          <span class="card-tag">Movies only</span>
        </div>
        <div class="chart-wrap" style="height:200px">
          <canvas id="chartMovieGenre"></canvas>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <div class="footer-text">
        ğŸ“Š Netflix Content Analytics Â· Built with <span>Chart.js</span> Â· Data: Netflix Catalog (2021 Snapshot)
      </div>
      <div class="footer-text">
        GitHub Portfolio Project Â· <span>Data Science</span>
      </div>
    </div>

  </main>
</div>

<script>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   DATA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const DATA = {
  total: 494, movies: 478, tvshows: 16, avg_duration: 102.8, coprod_pct: 22.7,
  top_countries: {
    "United States":220,"India":48,"United Kingdom":22,"Canada":17,
    "Philippines":16,"Nigeria":14,"France":13,"Turkey":13,"Japan":12,"Spain":11
  },
  top_genres: {
    "Dramas":211,"International Movies":197,"Comedies":161,"Action & Adventure":98,
    "Romantic Movies":62,"Children & Family Movies":51,"Independent Movies":49,
    "Thrillers":48,"Horror Movies":31,"Music & Musicals":26,"Documentaries":24,"Sci-Fi & Fantasy":13
  },
  ratings: {
    "TV-MA":144,"R":105,"TV-14":88,"PG-13":71,"PG":31,
    "TV-PG":25,"TV-Y":13,"TV-G":10,"TV-Y7":6,"G":1
  },
  year_trend: {
    "2000":4,"2001":7,"2002":1,"2003":4,"2004":9,"2005":8,"2006":7,"2007":3,
    "2008":13,"2009":9,"2010":11,"2011":13,"2012":10,"2013":24,"2014":21,
    "2015":11,"2016":20,"2017":19,"2018":32,"2019":37,"2020":122,"2021":67
  },
  audience: { "Mature (R/TV-MA)":249, "Teen (PG-13/TV-14)":159, "Family":61 },
  movie_genres: {
    "Dramas":211,"International Movies":197,"Comedies":161,"Action & Adventure":98,
    "Romantic Movies":62,"Children & Family":51,"Independent Movies":49,"Thrillers":48
  }
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   SHARED CHART DEFAULTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
Chart.defaults.color = '#6b6b90';
Chart.defaults.font.family = "'DM Sans', sans-serif";
Chart.defaults.font.size = 11;

const TOOLTIP = {
  backgroundColor: '#1e1e30',
  borderColor: '#252538',
  borderWidth: 1,
  titleColor: '#f0f0f8',
  bodyColor: '#a0a0c0',
  padding: 10,
  cornerRadius: 8,
  boxPadding: 4,
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   KPI COUNTER ANIMATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function animateCount(id, target, prefix='', suffix='', decimals=0) {
  const el = document.getElementById(id);
  const start = performance.now();
  const duration = 1400;
  const step = (now) => {
    const t = Math.min((now - start) / duration, 1);
    const eased = 1 - Math.pow(1 - t, 3);
    const val = decimals ? (target * eased).toFixed(decimals) : Math.round(target * eased);
    el.textContent = prefix + val + suffix;
    if (t < 1) requestAnimationFrame(step);
  };
  requestAnimationFrame(step);
}
animateCount('kpi-total', DATA.total);
animateCount('kpi-movies', DATA.movies);
animateCount('kpi-tv', DATA.tvshows);
animateCount('kpi-dur', DATA.avg_duration, '', '', 1);
animateCount('kpi-coprod', DATA.coprod_pct, '', '%', 1);

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CHART: YEAR TREND (Area)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const yearLabels = Object.keys(DATA.year_trend);
const yearValues = Object.values(DATA.year_trend);
const ctxYear = document.getElementById('chartYear').getContext('2d');
const gradYear = ctxYear.createLinearGradient(0, 0, 0, 220);
gradYear.addColorStop(0, 'rgba(229,9,20,.5)');
gradYear.addColorStop(1, 'rgba(229,9,20,0)');

new Chart(ctxYear, {
  type: 'line',
  data: {
    labels: yearLabels,
    datasets: [{
      data: yearValues,
      fill: true,
      backgroundColor: gradYear,
      borderColor: '#e50914',
      borderWidth: 2.5,
      tension: 0.45,
      pointRadius: 3,
      pointBackgroundColor: '#e50914',
      pointBorderColor: '#0a0a0f',
      pointBorderWidth: 2,
      pointHoverRadius: 6,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: { legend: { display: false }, tooltip: { ...TOOLTIP,
      callbacks: { title: (i) => `Year: ${i[0].label}`, label: (i) => ` Titles Released: ${i.raw}` }
    }},
    scales: {
      x: { grid: { color: 'rgba(255,255,255,.04)' }, ticks: { maxRotation: 0, autoSkip: true, maxTicksLimit: 11 } },
      y: { grid: { color: 'rgba(255,255,255,.04)' }, beginAtZero: true }
    }
  }
});

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CHART: CONTENT TYPE (Doughnut)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
new Chart(document.getElementById('chartType'), {
  type: 'doughnut',
  data: {
    labels: ['Movies', 'TV Shows'],
    datasets: [{
      data: [DATA.movies, DATA.tvshows],
      backgroundColor: ['#e50914', '#00d4c8'],
      borderColor: '#1a1a28',
      borderWidth: 3,
      hoverOffset: 6,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    cutout: '72%',
    plugins: {
      legend: { display: false },
      tooltip: { ...TOOLTIP, callbacks: {
        label: (i) => ` ${i.label}: ${i.raw} (${((i.raw/494)*100).toFixed(1)}%)`
      }}
    }
  }
});

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CHART: GENRES (Horizontal Bar)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const genreLabels = Object.keys(DATA.top_genres);
const genreValues = Object.values(DATA.top_genres);
const genreColors = [
  '#e50914','#ff4d57','#ff6b6b','#f5c518','#ffd54f',
  '#00d4c8','#26c6da','#7c3aed','#9d62f5','#22c55e','#4ade80','#60a5fa'
];
new Chart(document.getElementById('chartGenre'), {
  type: 'bar',
  data: {
    labels: genreLabels,
    datasets: [{
      data: genreValues,
      backgroundColor: genreColors,
      borderRadius: 6,
      borderSkipped: false,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    indexAxis: 'y',
    plugins: { legend: { display: false }, tooltip: { ...TOOLTIP,
      callbacks: { label: (i) => ` Titles: ${i.raw}` }
    }},
    scales: {
      x: { grid: { color: 'rgba(255,255,255,.04)' }, beginAtZero: true },
      y: { grid: { display: false }, ticks: { font: { size: 11 } } }
    }
  }
});

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   COUNTRY BAR CHART (custom HTML)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const maxCountry = 220;
const countryList = document.getElementById('countryList');
const countryColors = ['#e50914','#ff4d57','#f5c518','#00d4c8','#7c3aed','#22c55e','#f97316','#a855f7','#60a5fa','#34d399'];
Object.entries(DATA.top_countries).forEach(([name, val], i) => {
  const pct = Math.round((val / maxCountry) * 100);
  countryList.innerHTML += `
    <div class="country-row">
      <div class="country-name">${name}</div>
      <div class="country-bar-wrap">
        <div class="country-bar" style="width:0%; background: linear-gradient(90deg, ${countryColors[i]}, ${countryColors[i]}88);"
          data-target="${pct}"></div>
      </div>
      <div class="country-val">${val}</div>
    </div>`;
});
// animate bars
setTimeout(() => {
  document.querySelectorAll('.country-bar').forEach(bar => {
    bar.style.transition = 'width 1.2s cubic-bezier(.4,0,.2,1)';
    bar.style.width = bar.dataset.target + '%';
  });
}, 100);

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CHART: RATINGS (Polar Area)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const ratingLabels = Object.keys(DATA.ratings);
const ratingValues = Object.values(DATA.ratings);
const ratingColors = ['#e50914','#ff4d57','#f5c518','#00d4c8','#7c3aed','#22c55e','#f97316','#a855f7','#60a5fa','#34d399'];
new Chart(document.getElementById('chartRatings'), {
  type: 'polarArea',
  data: {
    labels: ratingLabels,
    datasets: [{
      data: ratingValues,
      backgroundColor: ratingColors.map(c => c + 'cc'),
      borderColor: ratingColors,
      borderWidth: 1.5,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: {
      legend: { position: 'right', labels: { boxWidth: 10, padding: 10, font: { size: 10 } } },
      tooltip: { ...TOOLTIP, callbacks: { label: (i) => ` ${i.label}: ${i.raw} titles` } }
    },
    scales: { r: { grid: { color: 'rgba(255,255,255,.06)' }, ticks: { backdropColor: 'transparent', font: { size: 9 } } } }
  }
});

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CHART: AUDIENCE SEGMENT (Doughnut)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
new Chart(document.getElementById('chartAudience'), {
  type: 'doughnut',
  data: {
    labels: Object.keys(DATA.audience),
    datasets: [{
      data: Object.values(DATA.audience),
      backgroundColor: ['#e50914cc','#f5c518cc','#22c55ecc'],
      borderColor: '#1a1a28',
      borderWidth: 3,
      hoverOffset: 6,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    cutout: '65%',
    plugins: {
      legend: { position: 'bottom', labels: { boxWidth: 10, padding: 10, font: { size: 10 } } },
      tooltip: { ...TOOLTIP, callbacks: {
        label: (i) => ` ${i.label}: ${i.raw} (${((i.raw/469)*100).toFixed(1)}%)`
      }}
    }
  }
});

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CHART: MOVIE GENRE (Radar)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const mgLabels = Object.keys(DATA.movie_genres);
const mgValues = Object.values(DATA.movie_genres);
const ctxMG = document.getElementById('chartMovieGenre').getContext('2d');
const gradMG = ctxMG.createLinearGradient(0, 0, 0, 200);
gradMG.addColorStop(0, 'rgba(229,9,20,.4)');
gradMG.addColorStop(1, 'rgba(229,9,20,.05)');

new Chart(ctxMG, {
  type: 'radar',
  data: {
    labels: mgLabels,
    datasets: [{
      data: mgValues,
      backgroundColor: gradMG,
      borderColor: '#e50914',
      borderWidth: 2,
      pointBackgroundColor: '#e50914',
      pointBorderColor: '#0a0a0f',
      pointRadius: 4,
    }]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: { legend: { display: false }, tooltip: { ...TOOLTIP,
      callbacks: { label: (i) => ` ${i.raw} titles` }
    }},
    scales: {
      r: {
        grid: { color: 'rgba(255,255,255,.06)' },
        pointLabels: { font: { size: 9 }, color: '#a0a0c0' },
        ticks: { backdropColor: 'transparent', font: { size: 8 }, color: '#6b6b90' },
        angleLines: { color: 'rgba(255,255,255,.05)' }
      }
    }
  }
});

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   SIDEBAR ICON INTERACTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
document.querySelectorAll('.sidebar-icon').forEach(icon => {
  icon.addEventListener('click', function() {
    document.querySelectorAll('.sidebar-icon').forEach(i => i.classList.remove('active'));
    this.classList.add('active');
  });
});
</script>
</body>
</html>
